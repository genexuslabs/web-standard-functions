import { GxBigNumber } from "../../types/gxbignumber";
import { formatNumericField } from "../formatNumericField";
import { formatNumericFieldBigNumber } from "../../bigNumber/formatNumericField";

const testCases: Array<[number | string, string, string]> = [
  [1, "99", "01"],
  [12, "99", "12"],
  [123, "99", "**"],
  ["0", "99", "00"],
  [1, "9,9ZZ", "0,001"],
  [12, "9,9ZZ", "0,012"],
  [123, "9,9ZZ", "0,123"],
  ["0", "9,9ZZ", "0,000"],
  [1, "Z,Z99", "01"],
  [12, "Z,Z99", "12"],
  [123, "Z,Z99", "123"],
  ["0", "Z,Z99", "00"],
  [1, "9,ZZ9", "0,001"],
  [12, "9,ZZ9", "0,012"],
  [123, "9,ZZ9", "0,123"],
  ["0", "9,ZZ9", "0,000"],
  ["0", "ZZ9,999,999", "0,000,000"],
  ["0", "ZZZZZZZ9", "0"],
  [3.1, "9.99", "3.10"],
  [3.12, "9.99", "3.12"],
  [3, "9.99", "3.00"],
  [3.1, "9.9", "3.1"],
  [3.1, "9.9Z", "3.10"],
  [3.1, "9.Z9", "3.10"],
  [3.12, "9.99", "3.12"],
  [3.12, "9.9Z", "3.12"],
  [3.12, "9.Z9", "3.12"],
  [3, "9.ZZ", "3.00"],
  [3.1, "9.ZZ", "3.10"],
  [3.12, "9.ZZ", "3.12"],
  [4395.35, "Z,ZZZ,ZZ9.99", "4,395.35"],
  [2, "ZZZ9", "2"],
  [2345, "9,999", "2,345"],
  [2345.3, "9,999.9", "2,345.3"],
  [2345.33, "9,999.99", "2,345.33"],
  [3456.97, "ZZ9,999.99", "3,456.97"],
  [34234.55, "ZZ99,999.99", "34,234.55"],
  [395.35, "ZZ9,999.99", "0,395.35"],
  [-123.4, "ZZZ9.99", "-123.40"],
  [-123.4, "(9,999.99)", "(0,123.40)"],
  [123.4, "(9,999.99)", "0,123.40"],
  [-123.4, "DB9,999.99", "DB0,123.40"],
  [123.4, "DB9,999.99", "CR0,123.40"],
  [123.4, "+9,999.99", "+0,123.40"],
  [-123.4, "+9,999.99", "-0,123.40"],
  [0.12, "ZZ9,999.99", "0,000.12"],
  ["20", "ZZZ9", "20"],
  [1.2, "ZZZZZZ9.99", "1.20"],
  [13.2, "ZZZZZZ9.99", "13.20"],
  [111, "$ Z,ZZZ,ZZ9.99", "$ 111.00"],
  [111, "$ (Z,ZZZ,ZZ9.99)", "$ (111.00)"],
  [111, "$Z,ZZZ,ZZ9.99", "$111.00"],
  [111, "$(Z,ZZZ,ZZ9.99)", "$(111.00)"],

  //overflow
  [122.12345678901234, ".9999999999999999", ".****************"],
  [122.12345678901234, "9.9999999999999999", "*.****************"],
  [122.12345678901234, "$9.9999999999999999", "$*.****************"],
  [122.12345678901234, "$99.9999999999999999", "$**.****************"],

  [122.12345678901234, "$999.9999999999999999", "$122.1234567890123400"],
  [-122.12345678901234, "$999.9999999999999999", "-$122.1234567890123400"],
  [-122.12345678901234, "$ 999.9999999999999999", "-$ 122.1234567890123400"],

  [122.12345678901234, "$ZZZZZZZZZZZZZZZ999", "$122"],
  [122.12345678901234, "ZZZZZZZZZZZZZZZ999", "122"],
  [122.12345678901234, "999999999999999999", "000000000000000122"],

  [122.12345678, "$999.99999999", "$122.12345678"],
  [122.12345678, "$999.9999999", "$122.1234567"],
  ["122.123456789012345678", "$999.9999999999999999", "$122.1234567890123456"],
  ["1223.123456789012345678", "$999.9999999999999999", "$***.****************"],

  [13.2, "ZZ9.99", "13.20"],
  [113.2, "ZZ9.99", "113.20"],
  [1113.2, "ZZ9.99", "***.**"],

  [113.2, "???.99", "113.20"],
  [113.2, "????.99", "113.20"],
  [113.2, "???.??", "113.2"],
  [113.2, "????.??", "113.2"],
  [113.02, "????.??", "113.02"],
  [1013.02, "????.??", "1013.02"],
  [1013.0267, "????.??", "1013.02"],
  [1013.02, "?????.???", "1013.02"],
  ["0113.2", "9???.99", "0113.20"],
  [1113.2, "???.??", "***.**"],
  [1113.2, "???.99", "***.**"],

  [113.2, "###.99", "113.20"],
  [113.2, "#####.99", "113.20"],
  [113.2, "#####.99###", "113.20"],
  [113.2, "#####.9###", "113.2"],
  ["0113.2", "#####.9###", "113.2"],
  ["113.20", "#####.9###", "113.2"],
  ["0113.20", "#####.9###", "113.2"],
  ["113.234000", "###.99######", "113.234"],
  ["100.234000", "###.99######", "100.234"],
  ["100.004000", "###.99######", "100.004"],
  ["100.00", "###.99######", "100.00"],
  [0.12, "###.99######", ".12"],

  // TEST BASE
  [113.2, "###.##", "113.2"],
  [113.2, "####.##", "113.2"],
  [1113.2, "####.##", "1113.2"],
  [1113.2, "###.##", "***.**"],
  ["113.00", "###.##", "113"],
  [0.113, "###.##", ".11"],
  ["000.113", "###.##", ".11"],
  ["113.20", "####.##", "113.2"],
  ["0113.20", "####.##", "113.2"],

  [113.2, "999.99", "113.20"],
  [113.2, "9999.99", "0113.20"],
  [1113.2, "9999.99", "1113.20"],
  [1113.2, "999.99", "***.**"],
  ["113.00", "999.99", "113.00"],
  [0.113, "999.99", "000.11"],
  ["000.113", "999.99", "000.11"],
  ["110.00", "999.99", "110.00"],
  ["100.00", "999.99", "100.00"],
  ["108.00", "999.99", "108.00"],
  ["1008.00", "9999.99", "1008.00"],

  [113.2, "???.??", "113.2"],
  [113.2, "????.??", "113.2"],
  [113.23, "????.??", "113.23"],
  [1113.2, "???.??", "***.**"],
  [113, "???.??", "113"],
  ["113.00", "???.??", "113"],
  ["113.10", "???.??", "113.1 "],
  ["113.01", "???.??", "113.01"],
  ["113.010", "???.???", "113.01 "],
  ["113.010", "???.????", "113.01 "],
  [0.113, "???.??", " .11"],
  ["000.113", "???.??", "   .11"],

  [113.2, "ZZZ.ZZ", "113.20"],
  ["0113.2", "ZZZ.ZZ", "***.**"],
  ["0113.20", "ZZZZ.ZZ", " 113.20"],
  [113.201, "ZZZ.ZZZ", "113.201"],
  [10113.201, "ZZZZZ.ZZZ", "10113.201"],
  ["113.200", "ZZZZ.ZZZ", "113.200"],
  ["113.00", "ZZZ.ZZ", "113.00"],
  [0.113, "ZZZ.ZZZ", " .113"],
  ["00.113", "ZZZ.ZZZ", "  .113"],

  //--------------------------------
  ["0113.2", "$ ZZZ.ZZ", "$ ***.**"],
  ["0113.20", "$ ZZZZ.ZZ", "$  113.20"],
  [113.201, "$ ZZZ.ZZZ", "$ 113.201"],
  [10113.201, "$ ZZZZZ.ZZZ", "$ 10113.201"],
  ["113.200", "$ ZZZZ.ZZZ", "$ 113.200"],
  ["113.00", "$ ZZZ.ZZ", "$ 113.00"],
  [0.113, "$ ZZZ.ZZZ", "$  .113"],
  ["00.113", "$ ZZZ.ZZZ", "$   .113"],

  [113.2, "$ ???.??", "$ 113.2"],
  [113.2, "$ ????.??", "$ 113.2"],
  [113.23, "$ ????.??", "$ 113.23"],
  [1113.2, "$ ???.??", "$ ***.**"],
  ["113.00", "$ ???.??", "$ 113"],
  ["113.10", "$ ???.??", "$ 113.1 "],
  [0.113, "$ ???.??", "$  .11"],
  ["000.113", "$ ???.??", "$    .11"],

  [113.2, "$ 999.99", "$ 113.20"],
  [113.2, "$ 9999.99", "$ 0113.20"],
  [1113.2, "$ 9999.99", "$ 1113.20"],
  [1113.2, "$ 999.99", "$ ***.**"],
  ["113.00", "$ 999.99", "$ 113.00"],
  [0.113, "$ 999.99", "$ 000.11"],
  ["000.113", "$ 999.99", "$ 000.11"],
  ["110.00", "$ 999.99", "$ 110.00"],
  ["100.00", "$ 999.99", "$ 100.00"],
  ["108.00", "$ 999.99", "$ 108.00"],
  ["1008.00", "$ 9999.99", "$ 1008.00"],

  [113.2, "$ ###.##", "$ 113.2"],
  [113.2, "$ ####.##", "$ 113.2"],
  [1113.2, "$ ####.##", "$ 1113.2"],
  [1113.2, "$ ###.##", "$ ***.**"],
  ["113.00", "$ ###.##", "$ 113"],
  [0.113, "$ ###.##", "$ .11"],
  ["000.113", "$ ###.##", "$ .11"],
  ["113.20", "$ ####.##", "$ 113.2"],
  ["0113.20", "$ ####.##", "$ 113.2"],

  //-----------------------
  [-113.2, "ZZZ.ZZ", "-113.20"],
  ["-0113.2", "ZZZ.ZZ", "***.**"],
  ["-0113.20", "ZZZZ.ZZ", "- 113.20"],
  [-113.201, "ZZZ.ZZZ", "-113.201"],
  [-10113.201, "ZZZZZ.ZZZ", "-10113.201"],
  ["-113.200", "ZZZZ.ZZZ", "-113.200"],
  ["-113.00", "ZZZ.ZZ", "-113.00"],
  [-0.113, "ZZZ.ZZZ", "- .113"],
  ["-00.113", "ZZZ.ZZZ", "-  .113"],

  [-113.2, "???.??", "-113.2"],
  [-113.2, "????.??", "-113.2"],
  [-113.23, "????.??", "-113.23"],
  [-1113.2, "???.??", "***.**"],
  ["-113.00", "???.??", "-113"],
  ["-113.10", "???.??", "-113.1 "],
  [-0.113, "???.??", "- .11"],

  ["-000.113", "???.??", "-   .11"],
  ["-000.113", "ZZZ.ZZ", "-   .11"],
  ["-000.113", "###.##", "-.11"],
  ["-000.11300", "???.?????", "-   .113  "],
  ["-000.11300", "ZZZ.ZZZZZ", "-   .11300"],
  ["-000.11300", "###.#####", "-.113"],

  [-113.2, "999.99", "-113.20"],
  [-113.2, "9999.99", "-0113.20"],
  [-1113.2, "9999.99", "-1113.20"],
  [-1113.2, "999.99", "***.**"],
  ["-113.00", "999.99", "-113.00"],
  [-0.113, "999.99", "-000.11"],
  ["-000.113", "999.99", "-000.11"],
  ["-110.00", "999.99", "-110.00"],
  ["-100.00", "999.99", "-100.00"],
  ["-108.00", "999.99", "-108.00"],
  ["-1008.00", "9999.99", "-1008.00"],

  [-113.2, "###.##", "-113.2"],
  [-113.2, "####.##", "-113.2"],
  [-1113.2, "####.##", "-1113.2"],
  [-1113.2, "###.##", "***.**"],
  ["-113.00", "###.##", "-113"],
  [-0.113, "###.##", "-.11"],
  ["-000.113", "###.##", "-.11"],
  ["-113.20", "####.##", "-113.2"],
  ["-0113.20", "####.##", "-113.2"],

  //------------------------
  ["-0113.2", "$ ZZZ.ZZ", "$ ***.**"],
  ["-0113.20", "$ ZZZZ.ZZ", "-$  113.20"],
  [-113.201, "$ ZZZ.ZZZ", "-$ 113.201"],
  [-10113.201, "$ ZZZZZ.ZZZ", "-$ 10113.201"],
  ["-113.200", "$ ZZZZ.ZZZ", "-$ 113.200"],
  ["-113.00", "$ ZZZ.ZZ", "-$ 113.00"],
  [-0.113, "$ ZZZ.ZZZ", "-$  .113"],
  ["-00.113", "$ ZZZ.ZZZ", "-$   .113"],

  [-113.2, "$ ???.??", "-$ 113.2"],
  [-113.2, "$ ????.??", "-$ 113.2"],
  [-113.23, "$ ????.??", "-$ 113.23"],
  [-1113.2, "$ ???.??", "$ ***.**"],
  ["-113.00", "$ ???.??", "-$ 113"],
  ["-113.10", "$ ???.??", "-$ 113.1 "],
  [-0.113, "$ ???.??", "-$  .11"],
  ["-000.113", "$ ???.??", "-$    .11"],

  [-113.2, "$ 9999.99", "-$ 0113.20"],
  [-1113.2, "$ 9999.99", "-$ 1113.20"],
  [-1113.2, "$ 999.99", "$ ***.**"],
  ["-113.00", "$ 999.99", "-$ 113.00"],
  [-0.113, "$ 999.99", "-$ 000.11"],
  ["-000.113", "$ 999.99", "-$ 000.11"],
  ["-110.00", "$ 999.99", "-$ 110.00"],
  ["-100.00", "$ 999.99", "-$ 100.00"],
  ["-108.00", "$ 999.99", "-$ 108.00"],
  ["-1008.00", "$ 9999.99", "-$ 1008.00"],

  [-113.2, "$ ###.##", "-$ 113.2"],
  [-113.2, "$ ####.##", "-$ 113.2"],
  [-1113.2, "$ ####.##", "-$ 1113.2"],
  [-1113.2, "$ ###.##", "$ ***.**"],
  ["-113.00", "$ ###.##", "-$ 113"],
  [-0.113, "$ ###.##", "-$ .11"],
  ["-000.113", "$ ###.##", "-$ .11"],
  ["-113.20", "$ ####.##", "-$ 113.2"],
  ["-0113.20", "$ ####.##", "-$ 113.2"],

  // GENERAL
  ["0113.20", "####.##", "113.2"],
  ["10113.20", "9####.##", "10113.2"],
  ["10113.201", "9####.##9", "10113.201"],
  ["00113.20", "?####.##", " 113.2"],
  ["00113.200", "?####.##?", " 113.2 "],
  ["000113.2000", "9?####.##?9", " 113.2 "],
  ["000113.2000", "9?ZZZZ.ZZ?9", " 0113.20 "],
  ["100113.2000", "9?ZZZZ.ZZ?9", "100113.20 "],
  ["010113.2000", "9?ZZZZ.ZZ?9", "010113.20 "],

  ["12", "9,ZZ9", "0,012"],
  ["12", "9,9ZZ", "0,012"],
  ["12", "Z,Z99", "12"],
  ["10", "9,ZZ9", "0,010"],
  ["10", "9,9ZZ", "0,010"],
  ["10", "Z,Z99", "10"],

  // CANONICOS
  ["123456.1234", "#####9.####", "123456.1234"],
  ["000456.1200", "#####9.####", "456.12"],
  ["123456.1234", "ZZZZZ9.####", "123456.1234"],
  ["000456.1200", "ZZZZZ9.####", "   456.12"],
  ["123456.1234", "ZZZZZ9.ZZZZ", "123456.1234"],
  ["000456.1200", "ZZZZZ9.ZZZZ", "   456.1200"],
  ["123456.1234", "?????9.????", "123456.1234"],
  ["000456.1200", "?????9.????", "   456.12  "],
  ["123456.1234", "ZZZZZ9.????", "123456.1234"],
  ["000456.1200", "ZZZZZ9.????", "   456.12  "],
  ["123456.1234", "######.####", "123456.1234"],
  ["000456.1200", "######.####", "456.12"],
  ["123456.1234", "ZZZZZZ.####", "123456.1234"],
  ["000456.1200", "ZZZZZZ.####", "   456.12"],

  ["0", "######.####", ""],
  ["0", "ZZZZZZ.####", " "],
  ["0", "ZZZZZZ.ZZZZ", " .0000"],
  ["0", "??????.????", " "],
  ["0", "999999.9999", "000000.0000"],

  // CR DB
  [122.12345678901234, "CR 999.9999999999999999", "CR 122.1234567890123400"],
  [-122.12345678901234, "CR 999.9999999999999999", "DB 122.1234567890123400"],
  [122.12345678901234, "DB 999.9999999999999999", "CR 122.1234567890123400"],
  [-122.12345678901234, "DB 999.9999999999999999", "DB 122.1234567890123400"],
  [+122.12345678901234, "CR 999.9999999999999999", "CR 122.1234567890123400"],
  [+122.12345678901234, "DB 999.9999999999999999", "CR 122.1234567890123400"],

  //()
  [122.12345678901234, "CR 999.9999999999999999", "CR 122.1234567890123400"],
  [122.12345678901234, "DB 999.9999999999999999", "CR 122.1234567890123400"],
  [-122.12345678901234, "DB 999.9999999999999999", "DB 122.1234567890123400"],
  [-122.12345678901234, "DB 999.9999999999999999", "DB 122.1234567890123400"],
  [-122.12345678901234, "CR 999.9999999999999999", "DB 122.1234567890123400"],

  [122.12345678901234, "(999.9999999999999999)", "122.1234567890123400"],
  [+122.12345678901234, "(999.9999999999999999)", "122.1234567890123400"],
  [-122.12345678901234, "(999.9999999999999999)", "(122.1234567890123400)"],

  //+ -
  [-122.12345678901234, "+ 999.9999999999999999", "- 122.1234567890123400"],
  [122.12345678901234, "+ 999.9999999999999999", "+ 122.1234567890123400"],
  [+122.12345678901234, "+ 999.9999999999999999", "+ 122.1234567890123400"],
  [-122.12345678901234, "- 999.9999999999999999", "-- 122.1234567890123400"],
  [122.12345678901234, "- 999.9999999999999999", "- 122.1234567890123400"],

  [122.12345678901234, "$ 999.9999999999999999", "$ 122.1234567890123400"],
  [-122.12345678901234, "$ 999.9999999999999999", "-$ 122.1234567890123400"],

  [-122.12345678901234, "$999.9999999999999999", "-$122.1234567890123400"]
];

describe("Numeric::formatNumericField", () => {
  for (const t of testCases) {
    it(`toFormattedString(${t[0]},${t[1]}) should be equal to ${t[2]}`, () => {
      expect(formatNumericField(t[0], t[1])).toBe(t[2]);
    });
  }
});
